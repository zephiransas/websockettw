<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
        <script src="js/bootstrap.js"></script>
        <link href="css/bootstrap.css" rel="stylesheet">
    </head>
    
    <script language="javascript">
        var wsUri = "ws://localhost:8080/websockettw/twitter";
        var websocket = new WebSocket(wsUri);
        var numberOfMessage = 0;
        websocket.onopen = function() {  
            writeToScreen("CONNECTED");
        };
        websocket.onmessage = function(evt) { 
            writeToScreen(evt.data);
            numberOfMessage++;
        };
        websocket.onerror = function(evt) {
            writeToScreen('<span style="color: red;">ERROR:</span> ' + evt.data);
        };
        
        function writeToScreen(messages) {
            $("#content").prepend("<li>" + messages + "</li>");
        }
    </script>
    
    <body>
        <div class="span10">
            <h2>WebSocket Test</h2>

            <ul id="content">
            </ul>
        </div>
    </body>
</html>
